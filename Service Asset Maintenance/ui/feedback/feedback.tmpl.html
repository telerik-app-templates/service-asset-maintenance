<div id="feedback-view"
     data-role="view"
     data-bind="loading: isLoading"
     data-model="global.feedback.viewModel">
    <div class="validation-summary" data-bind="visible: validationSummaryVisible">
        <span data-bind="text: errorMessage"></span>
        <a class="close-button" data-role="button" data-icon=" fa fa-times" data-bind="click: hideValidationSummary"></a>
    </div>
    <ul data-role="listview">
        <li>
            <span data-bind="text: serviceRequest.title" class="title-label header-margins"></span>
        </li>
        <li>
            <textarea placeholder="Your comment here" rows="6" data-bind="value: feedbackItem.comment"></textarea>
        </li>
    </ul>
    <div class="button-container"><a data-role="button" data-bind="click: submit" class="asset-button">Submit Feedback</a></div>
    <div id="feedback-collapsible" data-role="collapsible" data-collapsed="false" >
        <h3>More info</h3>
        <ul data-use-native-scrolling="true"
            data-role="listview"
            data-template="feedback-listview-item"
            data-bind="source: feedbackItems"></ul>
    </div>
</div>

<script type="text/x-kendo-template" id="feedback-listview-item">
    <div>
        <span class="details-header-label">${ createdByUser }</span> <span class="details-header-label bold" data-format="MMMM dd yyyy">${ global.converters.formatDate(new Date()) }</span>
        <span class="block-label">${ comment }</span>
    </div>
</script>

<div>
    <span>${ global.converters.formatDate(createdAt) }</span>
</div>
