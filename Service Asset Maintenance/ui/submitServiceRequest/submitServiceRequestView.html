<div id="submit-service-request-view"
     data-role="view"
     data-model="global.submitServiceRequest.viewModel"
     data-bind="loading: isLoading" >
    <div data-role="header">
        <div data-role="navbar">
            <a data-align="left" data-role="backbutton" class="asset-button"></a>
            <span data-role="view-title" data-bind="text: strings.submitServiceRequestHeaderText"></span>
            <a data-align="right" data-icon=" fa fa-camera" data-role="button" data-bind="click: takePicture" class="asset-button"></a>
            <a data-align="right" data-icon=" fa fa-barcode" data-role="button" data-bind="click: scanAssetNo" class="asset-button"></a>
        </div>
    </div>
    <div class="validation-summary" data-bind="visible: validationSummaryVisible">
        <span data-bind="text: errorMessage"></span>
        <a class="close-button" data-role="button" data-icon=" fa fa-times" data-bind="click: hideValidationSummary"></a>
    </div>
    <ul class="header-margin" data-role="listview">
        <li>
            <input placeholder="Title" type="text" data-bind="value: serviceRequest.title" class="title-text-box" />
        </li>
        <li>
            <span class="label-header" data-bind="text: strings.maintenanceTypeText"></span>
            <input data-role="dropdownlist"
                   data-value-primitive="true"
                   data-text-field="Type"
                   data-value-field="Id"
                   data-bind="value: serviceRequest.maintenanceType, source: maintenanceTypes" />
        </li>
    </ul>
    <ul data-role="listview" data-type="group">
        <li>
            <span data-bind="text: strings.priorityText"></span>
            <ul>
                <li>
                    <ul data-role="buttongroup" data-bind="index: serviceRequest.priority">
                        <li><span data-bind="text: strings.lowText"></span></li>
                        <li><span data-bind="text: strings.mediumText"></span></li>
                        <li><span data-bind="text: strings.highText"></span></li>
                    </ul>
                </li>
            </ul>

        </li>
    </ul>
    <ul data-role="listview">
        <li>
            <span class="label-header" data-bind="text: dueDateText"></span>
            <input type="date" data-bind="value: serviceRequest.dueDate" />
        </li>
    </ul>
    <ul data-role="listview" data-type="group">
        <li>
            <span data-bind="text: strings.descriptionText"></span>
            <ul>
                <li>
                    <textarea data-bind="value: serviceRequest.description" rows="6"></textarea>
                </li>
            </ul>
        </li>
    </ul>
    <ul data-role="listview">
        <li data-bind="visible: imageSrc">
            <img data-bind="attr: { src: imageSrc }" class="request-picture" />
            <a data-role="button" data-icon=" fa fa-times" data-bind="click: removePicture" class="remove-button">Remove</a>
        </li>
        <li data-bind="visible: serviceRequest.assetNo">
            <div>
                <span data-bind="text: strings.assetText"></span> <span data-bind="text: strings.assetNoText"></span><span data-bind="text: serviceRequest.assetNo"></span>
            </div>
            <a data-role="button" data-icon=" fa fa-times" data-bind="click: removeAssetNo" class="remove-button">
                <span data-bind="text: strings.removeText"></span>
            </a>
        </li>
    </ul>


    <ul id="assets-actionsheet"
         data-role="actionsheet" >
        <li>
            <ul data-role="listview"
                data-auto-bind="false"
                data-style="inset"
                data-bind="source: assets, click: assetSelected"></ul>
        </li>
    </ul>

    <div data-role="footer">
        <a data-role="button" data-bind="click: submit" class="asset-button">
            <span data-bind="text: strings.submitText"></span>
        </a>
    </div>
</div>

<script type="text/x-kendo-template" id="asset-item-template">
    <a class="listview-item-status">Test</a>
</script>




